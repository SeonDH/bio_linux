# 20. MySQL 실습 기초

## 데이터베이스란?

* 데이터를 체계적으로 저장하고 관리하는 시스템
* 효율적인 검색, 수정, 삭제가 가능하며 무결성과 일관성을 유지함
* 여러 사용자와 애플리케이션이 동시에 접근 가능
* 일반 파일 저장보다 구조화된 방식으로 데이터를 활용할 수 있음

---

## MySQL 개요

* 세계적으로 널리 사용되는 오픈 소스 관계형 데이터베이스 관리 시스템(RDBMS)
* 오라클이 관리하며, 무료와 유료 버전 모두 존재함

### 관계형 데이터베이스(RDB)

* 데이터를 테이블 형태로 저장하며, 테이블 간 관계를 설정함
* SQL을 사용하여 데이터 정의, 조작, 제어 가능
* ACID 속성을 만족하여 트랜잭션 처리에 적합함

---

## 데이터 구조

* **Database**: 여러 테이블을 포함하는 최상위 단위
* **Table**: 행(Row)과 열(Column)로 구성
* **Row**: 데이터 레코드
* **Column**: 데이터 속성, 특정 타입 가짐

예: 고객 정보를 저장하는 `customers` 테이블은 ID, 이름, 이메일 컬럼 포함

---

## \[실습] 데이터베이스 생성

```sql
CREATE DATABASE library;
```

---

## 테이블 생성 및 관리

### 테이블 생성

```sql
CREATE TABLE authors (
    author_id INT AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    birthdate DATE,
    PRIMARY KEY (author_id)
);

CREATE TABLE books (
    book_id INT AUTO_INCREMENT,
    title VARCHAR(200) NOT NULL,
    author_id INT,
    publication_date DATE,
    price DECIMAL(10, 2),
    PRIMARY KEY (book_id),
    FOREIGN KEY (author_id) REFERENCES authors(author_id)
);
```

### 테이블 수정

```sql
ALTER TABLE books ADD isbn VARCHAR(20);
```

### 테이블 삭제

```sql
DROP TABLE books;
```

---

## 데이터 삽입

```sql
INSERT INTO authors (name, birthdate) VALUES
('J.K. Rowling', '1965-07-31'),
('George R.R. Martin', '1948-09-20');

INSERT INTO books (title, author_id, publication_date, price) VALUES
('Harry Potter and the Sorcerer''s Stone', 1, '1997-06-26', 19.99),
('A Game of Thrones', 2, '1996-08-06', 29.99);
```

---

## 데이터 조회

```sql
SELECT * FROM books;
SELECT * FROM books WHERE author_id = 1;
SELECT DISTINCT name FROM authors;
SELECT title FROM books ORDER BY title ASC;
```

---

## 데이터 수정 및 삭제

```sql
UPDATE books SET price = 18.99 WHERE title = 'Harry Potter and the Sorcerer''s Stone';
DELETE FROM books WHERE title = 'A Game of Thrones';
```

---

## 조건문 및 연산자

```sql
-- AND, OR, NOT
SELECT * FROM books WHERE price > 15 AND publication_date < '2000-01-01';

-- LIKE
SELECT * FROM books WHERE title LIKE 'Harry%';

-- BETWEEN
SELECT * FROM books WHERE price BETWEEN 10 AND 30;

-- IN
SELECT * FROM authors WHERE name IN ('J.K. Rowling', 'George R.R. Martin');

-- IS NULL
SELECT * FROM authors WHERE birthdate IS NULL;
```

---

## 함수 사용

```sql
-- 문자열 함수
SELECT CONCAT('Author: ', name) FROM authors;
SELECT LENGTH(name) FROM authors;

-- 수치 함수
SELECT ROUND(price, 0) FROM books;
SELECT CEIL(price) FROM books;
SELECT FLOOR(price) FROM books;

-- 날짜 함수
SELECT NOW();
SELECT CURDATE();
SELECT DATE_FORMAT(publication_date, '%Y-%m-%d') FROM books;

-- 집계 함수
SELECT COUNT(*) FROM books;
SELECT SUM(price) FROM books;
SELECT AVG(price) FROM books;
SELECT MAX(price) FROM books;
SELECT MIN(price) FROM books;
```

---

## 조인

```sql
SELECT a.name AS author_name, b.title AS book_title, b.publication_date
FROM books b
INNER JOIN authors a ON b.author_id = a.author_id;
```

---

## \[번외] 관련 문서

* [\[번외\] MySQL 로컬 설치](extra/local.md)
* [\[번외\] 리눅스에서 MySQL 띄우기](extra/linux.md)
